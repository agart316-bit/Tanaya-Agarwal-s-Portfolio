<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Borges Stories</title>
  <link rel="stylesheet" href="style.css?v=1" />
</head>
<body>
  <div class="viewport">
    <main class="journal" id="journal">
      <section class="panel panel--hero">
        <h1>THE BORGES STORIES</h1>
        <p class="meta meta--row">
          <span><strong>Year :</strong> 2022 - 2024</span>
          <span><strong>Skills :</strong> Illustration, Adobe, Procreate</span>
        </p>
        <p class="meta"><strong>Medium :</strong> A5 book designed using Adobe Illustrator &amp; Photoshop</p>

        <div class="copy copy--section copy--hero">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu.</p>
        </div>

        <figure class="feature feature--hero">
          <div class="image-slot image-slot--hero">
            <img src="project-10-1.png" alt="The Borges Stories intro question screen" />
          </div>
        </figure>
      </section>

      <section class="panel panel--sand">
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos.</p>
        </div>

        <figure class="stack-item stack-item--left">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--wide">
            <img src="project-10-2.png" alt="Book of Sand main screen with card grid" />
          </div>
        </figure>
        <figure class="stack-item stack-item--right">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--wide">
            <img src="project-10-3.png" alt="Book of Sand modal card view" />
          </div>
        </figure>
        <figure class="stack-item stack-item--left">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--wide">
            <img src="project-10-4.png" alt="Book of Sand assembled image puzzle view" />
          </div>
        </figure>
      </section>

      <section class="panel panel--spacer"></section>

      <section class="panel panel--ruins">
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos.</p>
        </div>

        <figure class="feature feature--single">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--single">
            <img src="project-10-5.png" alt="The Circular Ruins final screen" />
          </div>
        </figure>
      </section>

      <section class="panel panel--garden">
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos.</p>
        </div>

        <div class="pair-grid">
          <figure>
            <figcaption>[ option ]</figcaption>
            <div class="image-slot image-slot--pair">
              <img class="pair-shot pair-shot--left" src="project-10-6.png" alt="Garden of Forking Paths main screen with cards" />
            </div>
          </figure>
          <figure>
            <figcaption>[ option ]</figcaption>
            <div class="image-slot image-slot--pair">
              <img class="pair-shot pair-shot--right" src="project-10-7.png" alt="Garden of Forking Paths modal card view" />
            </div>
          </figure>
        </div>
      </section>

      <section class="panel panel--teal">
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos.</p>
        </div>

        <div class="mobile-grid">
          <figure>
            <figcaption>[ option ]</figcaption>
            <div class="image-slot image-slot--thumb-mobile">
              <img src="project-10-8.png" alt="Book of Sand mobile screen" />
            </div>
          </figure>
          <figure>
            <figcaption>[ option ]</figcaption>
            <div class="image-slot image-slot--thumb-mobile">
              <img src="project-10-9.png" alt="Circular Ruins mobile screen" />
            </div>
          </figure>
        </div>
      </section>

      <section class="panel panel--end"></section>
    </main>
  </div>

  <script>
    const journal = document.getElementById("journal");
    const BASE_WIDTH = 312;
    const TARGET_RATIO = 0.65;
    const MIN_ZOOM = 0.8;
    const MAX_ZOOM = 2.5;
    const REVEAL_SELECTOR = "h1, .meta, .copy p, figcaption, .image-slot";

    function fitJournal() {
      if (!journal) return;
      const effectiveWidth = Math.min(window.innerWidth, 1400);
      const zoom = (effectiveWidth * TARGET_RATIO) / BASE_WIDTH;
      journal.style.zoom = Math.max(MIN_ZOOM, Math.min(zoom, MAX_ZOOM));
    }

    function setupReveals() {
      const panels = document.querySelectorAll(".panel");
      panels.forEach((panel) => {
        const items = panel.querySelectorAll(REVEAL_SELECTOR);
        items.forEach((item, i) => {
          item.classList.add("reveal-item");
          if (item.matches(".image-slot")) {
            item.classList.add("reveal-image");
          } else if (item.matches("figcaption")) {
            item.classList.add("reveal-caption");
          } else {
            item.classList.add("reveal-text");
          }
          item.style.setProperty("--reveal-delay", `${i * 70}ms`);
        });
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          });
        },
        { threshold: 0.16, rootMargin: "0px 0px -8% 0px" }
      );

      document.querySelectorAll(".reveal-item").forEach((item) => observer.observe(item));
    }

    window.addEventListener("resize", fitJournal);
    window.addEventListener("load", () => {
      fitJournal();
      setupReveals();
    });
    fitJournal();
  </script>
</body>
</html>
