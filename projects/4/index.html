<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Paintings</title>
  <link rel="stylesheet" href="style.css?v=1" />
</head>
<body>
  <div class="viewport">
    <main class="journal" id="journal">
      <section class="panel panel--hero">
        <h1>PAINTINGS</h1>
        <p class="meta">Year : 2022 - 2024 &nbsp;&nbsp;&nbsp; Skills : Illustration, Adobe, Procreate</p>
        <p class="meta">Medium : Acrylic on canvas</p>
      </section>

      <section class="panel panel--eclipsed">
        <h2>ECLIPSED GAZE</h2>
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos.</p>
        </div>
        <figure class="feature feature--small">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--portrait">
            <img src="project-4-1.jpg" alt="Eclipsed Gaze painting" />
          </div>
        </figure>
      </section>

      <section class="panel panel--spacer"></section>

      <section class="panel panel--refuge">
        <h2>REFUGE</h2>
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos.</p>
        </div>
        <figure class="feature feature--tall">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--tall">
            <img src="project-4-2.jpg" alt="Refuge painting" />
          </div>
        </figure>
      </section>

      <section class="panel panel--spacer panel--spacer-blue"></section>

      <section class="panel panel--edge">
        <h2>ESCAPE TO THE EDGE</h2>
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu.</p>
        </div>
        <figure class="triptych-wrap">
          <figcaption>[ option ]</figcaption>
          <div class="triptych">
            <div class="image-slot image-slot--triptych">
              <img src="project-4-3.1.jpg" alt="Escape to the Edge painting left panel" class="triptych-part triptych-part--left" />
            </div>
            <div class="image-slot image-slot--triptych">
              <img src="project-4-3.2.jpg" alt="Escape to the Edge painting center panel" class="triptych-part triptych-part--center" />
            </div>
            <div class="image-slot image-slot--triptych">
              <img src="project-4-3.3.jpg" alt="Escape to the Edge painting right panel" class="triptych-part triptych-part--right" />
            </div>
          </div>
        </figure>
      </section>

      <section class="panel panel--spacer panel--spacer-pink"></section>

      <section class="panel panel--boulevard">
        <h2>BOULEVARD OF<br />BROKEN HEARTS</h2>
        <div class="copy copy--section">
          <p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu ad litora torquent per conubia nostra.</p>
        </div>
        <figure class="feature feature--wide">
          <figcaption>[ option ]</figcaption>
          <div class="image-slot image-slot--wide">
            <img src="project-4-4.jpg" alt="Boulevard of Broken Hearts painting" />
          </div>
        </figure>
      </section>

      <section class="panel panel--end"></section>
    </main>
  </div>

  <script>
    const journal = document.getElementById("journal");
    const BASE_WIDTH = 312;
    const TARGET_RATIO = 0.65;
    const MIN_ZOOM = 0.8;
    const MAX_ZOOM = 2.5;
    const REVEAL_SELECTOR = "h1, h2, .meta, .copy p, figcaption, .image-slot";

    function fitJournal() {
      if (!journal) return;
      const effectiveWidth = Math.min(window.innerWidth, 1400);
      const zoom = (effectiveWidth * TARGET_RATIO) / BASE_WIDTH;
      journal.style.zoom = Math.max(MIN_ZOOM, Math.min(zoom, MAX_ZOOM));
    }

    function setupReveals() {
      const panels = document.querySelectorAll(".panel");
      panels.forEach((panel) => {
        const items = panel.querySelectorAll(REVEAL_SELECTOR);
        items.forEach((item, i) => {
          item.classList.add("reveal-item");
          if (item.matches(".image-slot")) {
            item.classList.add("reveal-image");
          } else if (item.matches("figcaption")) {
            item.classList.add("reveal-caption");
          } else {
            item.classList.add("reveal-text");
          }
          item.style.setProperty("--reveal-delay", `${i * 70}ms`);
        });
      });

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            entry.target.classList.add("is-visible");
            observer.unobserve(entry.target);
          });
        },
        { threshold: 0.16, rootMargin: "0px 0px -8% 0px" }
      );

      document.querySelectorAll(".reveal-item").forEach((item) => observer.observe(item));
    }

    window.addEventListener("resize", fitJournal);
    window.addEventListener("load", () => {
      fitJournal();
      setupReveals();
    });
    fitJournal();
  </script>
</body>
</html>
